<app-top-menu></app-top-menu>
<div class="work-order-container">
 
  <mat-tab-group>
      <mat-tab label="Overview">
        <app-panel-header-filter [data]="workOrders" (dataFilter)="dataPaginatorChange($event)"></app-panel-header-filter>
          <div>
              <mat-card style="margin-top: 5px;">
                <div fxLayout=row style="place-content: space-around;">
                  <div class="table_header_text" >
                    <div fxLayout=row >
                      <span fxLayout=row  >Order Number</span>
                      <img  style="height: 12px;width: 12px;" src="/assets/images/icons/Filter.png" (click)="viewInputForFilterDataON()" />
                    </div>
                    <span *ngIf="enableInputON">            
                      <input #myInput type="text" (input)="filterItem(myInput.value)" style="color:#032A57; font-size: 11px;"/>
                    </span>
                  </div>
                  <div class="table_header_text" >
                    <div fxLayout=row >
                      <span fxLayout=row  >Work Request ID</span>
                      <img  style="height: 12px;width: 12px;" src="/assets/images/icons/Filter.png" (click)="viewInputForFilterDataWRD()" />
                    </div>
                    <span *ngIf="enableInputWRD">            
                      <input #myInput type="text" (input)="filterItem(myInput.value)" style="color:#032A57; font-size: 11px;"/>
                    </span>
                  </div>
                  <div class="table_header_text" >
                    <div fxLayout=row >
                      <span fxLayout=row  >Assignee</span>
                      <img  style="height: 12px;width: 12px;" src="/assets/images/icons/Filter.png" (click)="viewInputForFilterDataAssign()" />
                    </div>
                    <span *ngIf="enableInputAssign">            
                      <input #myInput type="text" (input)="filterItem(myInput.value)" style="color:#032A57; font-size: 11px;"/>
                    </span>
                  </div>
                  <div class="table_header_text" >
                    <div fxLayout=row >
                      <span fxLayout=row  >Type of work</span>
                      <img  style="height: 12px;width: 12px;" src="/assets/images/icons/Filter.png" (click)="viewInputForFilterDataTOW()" />
                    </div>
                    <span *ngIf="enableInputTOW">            
                      <input #myInput type="text" (input)="filterItem(myInput.value)" style="color:#032A57; font-size: 11px;"/>
                    </span>
                  </div>
                  <div class="table_header_text" >
                    <div fxLayout=row >
                      <span fxLayout=row  >Package/Description</span>
                      <img  style="height: 12px;width: 12px;" src="/assets/images/icons/Filter.png" (click)="viewInputForFilterDataDES()" />
                    </div>
                    <span *ngIf="enableInputDES">            
                      <input #myInput type="text" (input)="filterItem(myInput.value)" style="color:#032A57; font-size: 11px;"/>
                    </span>
                  </div>
                  <div class="table_header_text" >
                    <div fxLayout=row >
                      <span fxLayout=row  >Work Order Full RefNumber</span>
                      <img  style="height: 12px;width: 12px;" src="/assets/images/icons/Filter.png" (click)="viewInputForFilterDataNBD()" />
                    </div>
                    <span *ngIf="enableInputNBD">            
                      <input #myInput type="text" (input)="filterItem(myInput.value)" style="color:#032A57; font-size: 11px;"/>
                    </span>
                  </div>
                </div>
              </mat-card>
            </div>
            <div style ="place-content :center;">
              <mat-spinner style="margin:0 auto;" *ngIf="isLoading; else content" [diameter]="40"></mat-spinner>
            </div>

            <div fxLayout="row">
              <ng-template #content>
                <app-expansion-panel 
                  *ngIf="workOrders && workOrders.length > 0"
                  [expansionPanelOptions]="workOrderDataOption"
                  [pageIndex]="pageIndex"
                  [pageSize]="pageSize"
                  selectorComponent="app-work-order-details" 
                  [data]="workOrders"
                  [isHistory]="true" (updateRefresh)="getWorkOrder()"></app-expansion-panel>
              </ng-template>
          </div>
      </mat-tab>
      <mat-tab label="New">
          <app-work-order-details formType="create" (tabSwitch)="tabSwitch($event)" ></app-work-order-details>
      </mat-tab>
  </mat-tab-group>
</div>