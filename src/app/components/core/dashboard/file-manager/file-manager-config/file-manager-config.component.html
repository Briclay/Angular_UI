<div class="file-manager-config-container">
  <!-- show path -->
  <!-- <div> -->
  <!-- <span *ngFor="let pathName of fullPathDisplay">
      <a (click)="onSelectPath(pathName.path, pathName.top)">{{ pathName.name }} / </a>
    </span> -->
  <!--  </div> -->
  <!-- Back Button -->
  <!--   <div>
    <span class="back-btn" fxLayout="row">
      <button mat-raised-button (click)="goBackButton()">Back</button>
    </span>
  </div> -->
  <!-- rend back button -->
  <!-- project selection box nad project details -->
  <mat-card *ngIf="projectFlag">
    <form name="fileForm" [formGroup]="fileForm" novalidate>
      <mat-form-field appearance="outline">
        <mat-label>Select Project</mat-label>
        <mat-select placeholder="Select Project" formControlName="formProject" (selectionChange)="getSingleProject($event)"
          [compareWith]="compareObjects">
          <mat-option *ngFor="let p of projectlist" [value]="p">
            {{p.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </form>
    <!-- start project details -->
    <div fxLayout="row" *ngIf="selectedProjectData">
      <div class="flex-grow text-center">
        <strong class="text-color"></strong>
      </div>
      <div class="flex-grow no-border">
        <strong class="text-color">Details</strong>
      </div>
      <div class="flex-grow no-border text-center">
        <strong class="text-color">Units</strong>
      </div>
      <div class="flex-grow text-center">
        <strong class="text-color">Car Parking</strong>
      </div>
    </div>
    <div fxLayout="row" *ngIf="selectedProjectData;">
      <div class="flex-grow">
        <div class="project-content">
          <div class="project-details-header" *ngIf="selectedProjectData.imageUrls.length>0">
            <img src="{{selectedProjectData.imageUrls[0]}}" style="height: 177px;width: 235px;"  (click)="openImageSlider(selectedProjectData.logoImageUrl)" />
            <div class="project-name ">
              {{selectedProjectData.name}}
            </div>
          </div>
        </div>
      </div>
      <div class="flex-grow">

        <mat-form-field appearance="outline">
          <mat-label>Land Area</mat-label>
          <input matInput readonly placeholder="Land area" [value]="selectedProjectData.projectDetails.landArea">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Carpet Area</mat-label>
          <input matInput placeholder="Carpet area" readonly [value]="selectedProjectData.projectDetails.carpetarea">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Sale Area</mat-label>
          <input matInput placeholder="Sale Area" readonly [value]="selectedProjectData.projectDetails.saleArea">
        </mat-form-field>
      </div>
      <div class="flex-grow ">
        <mat-form-field appearance="outline" *ngFor="let units of selectedProjectData.units">
          <mat-label>{{units.bhk}}</mat-label>
          <input matInput readonly [value]="units.count">
        </mat-form-field>
      </div>
      <div class="flex-grow ">
        <mat-form-field appearance="outline" *ngFor="let carParking of selectedProjectData.carParkingArea">
          <mat-label>{{carParking.area}}</mat-label>
          <input matInput readonly [value]="carParking.count">
        </mat-form-field>
      </div>
      <ng-template #selectProject>
        * Select Project
      </ng-template>
    </div>
    <!-- end project details -->
  </mat-card>

  <!-- end project details -->
  <div fxLayout="row" class="file-details">
    <!-- <mat-card *ngIf="!selectedProjectData;else selectedProjectTemplate" class="width-100 marginTop30 text-danger text-center">
      * Select Project
    </mat-card> -->
    <!--     <mat-card *ngIf="!selectedProjectData;else selectedProjectTemplate" 
      class="width-100 marginTop30 text-danger text-center">
      * Select Project
    </mat-card>  -->
    <mat-card *ngIf="iconArray.length>0">
      <ul class="side-nav-list file-icons" style="overflow: auto; height: 300px;">
        <li *ngFor="let folder of iconArray" (click)="getClickedByIcon(folder)">
          <a>
            <img class="icons" src="{{ folder.iconPath }}" /><br />{{ folder.name }}
          </a>
        </li>
      </ul>
    </mat-card>
    <!-- icon for fil upload nad folder create -->
    <div class="file-list" *ngIf="tableFlag">
      <mat-card class="margin-btm-10 list-header">
        <div fxLayout="row align-item-center" class="file-list-header">
          <!--  <div class="flex-grow ">
           
         </div> -->
          <!--           <div class="flex-grow no-border justify-content-center"> -->
          <!--             <span fxLayout="row" fxLayoutAlign="space-around center" > -->
          <!-- <button mat-raised-button (click)="goBackButton()">Back</button> -->
          <!--            <img  src="assets/images/icons/back.png" (click)="goBackButton()" width="5%" height="25px" padding-top="100px" label="Create_Folder">    -->
          <!--    </span>          -->
          <!-- </div> -->
          <div class="flex-grow no-border">
            <div class="pull-left">
              <strong class="text-color">{{clickedIconName}}</strong>
            </div>
          </div>
          <!-- <div class="flex-grow no-border"> -->
          <!--    </div> -->
          <!-- <div class="flex-grow no-border"> -->
          <!--          </div>     -->
          <div class="flex-grow: 3; no-border ">
            <!--            <mat-icon matTooltip="Create Folder" (click)="openFolderDialog()" class="hand-cursor margin-left-4">create_new_folder</mat-icon> -->
            
            <div class="pull-right">
              <span fxLayout="row">
                <img matTooltip="Home Folder" width="25px" src="assets/images/icons/Home.png" (click)="backHomePage()"
                  height="20px" label="Home Folder" class="hand-cursor margin-left-4">
                <img matTooltip="Back" src="assets/images/icons/back.png" (click)="goBackButton()" width="25px" height="20px"
                  label="Create_Folder" class="hand-cursor margin-left-4" style="margin-top: 2px;">

                <img matTooltip="Create Folder" width="25px" src="assets/images/icons/Create_Folder.png" (click)="openFolderDialog()"
                  height="25px" label="Create_Folder" class="hand-cursor margin-left-4">

                <span (click)="fileInput.click()">
                  <!--               <mat-icon matTooltip="Upload" class="hand-cursor margin-left-4">cloud_upload</mat-icon> -->
                  <!--               <input #fileInput type="file" (change)="onFileInput($event)" style="display:none;" /> -->
                  <img matTooltip="File Upload" width="25px" src="assets/images/icons/File_Upload.png" title="Upload"
                    height="25px" class="hand-cursor margin-left-4">
                  <input #fileInput type="file" (change)="onFileInput($event)" style="display:none;" />
                  <!-- </span> Upload</p> -->
                </span>
              </span>
            </div>
          </div>
        </div>
      </mat-card>
      <div class="expansion-container">

        <!-- <spinner diameter="80" *ngIf="folderListLoading; else folderList"></spinner>          -->
        <!-- <spinner diameter="80" *ngIf="folderListLoading; else folderList"></spinner> -->
        <div>
          <!-- table Implemenetion -->
          <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <!-- name type -->
            <ng-container matColumnDef="type">
              <th mat-header-cell *matHeaderCellDef> Type </th>
              <td mat-cell *matCellDef="let element"> <img src="{{getIcon(element.fileExt,element.type)}}" width="30%">
              </td>
            </ng-container>
            <!-- name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef width="500px"> Name </th>
              <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>
            <!-- created Column -->
            <ng-container matColumnDef="createdAt">
              <th mat-header-cell *matHeaderCellDef width="100px"> Date </th>
              <td mat-cell *matCellDef="let element"> {{element.createdAt | date:'dd/MM/yyyy'}} </td>
            </ng-container>
            <!-- version Column -->
            <ng-container matColumnDef="version">
              <th mat-header-cell *matHeaderCellDef width="75px"> Version </th>
              <td mat-cell *matCellDef="let element"> {{element.version}} </td>
            </ng-container>
            <!-- logs Column -->
            <ng-container matColumnDef="logs">
              <th mat-header-cell *matHeaderCellDef width="50px" align="right">Logs</th>
              <td mat-cell *matCellDef="let element" (click)="getLogs(element)">
                <img _ngcontent-c9="" matTooltip="Details" src="assets/images/icons/Details.png" style="width: 50%;">
              </td>
            </ng-container>
            <!-- email Column -->
            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef width="55px" align="right">Email</th>
              <td mat-cell *matCellDef="let element" (click)="openMailDialog(element)">
                <img _ngcontent-c9="" matTooltip="Email" src="assets/images/icons/Email.png" style="width: 50%;" align="center">
              </td>
            </ng-container>
            <!-- share Column -->
            <ng-container matColumnDef="share">
              <th mat-header-cell *matHeaderCellDef width="60px" align="right">Share</th>
              <td mat-cell *matCellDef="let element" (click)="openShareDialog(element)">
                <img _ngcontent-c9="" matTooltip="Share" src="assets/images/icons/File_Share.png" style="width: 50%;"
                  align="center">
              </td>
            </ng-container>
            <!-- Download Column -->
            <ng-container matColumnDef="download">
              <th mat-header-cell *matHeaderCellDef width="50px" align="right">Download</th>
              <td mat-cell *matCellDef="let element" (click)="downloadFile(element)">
                <img _ngcontent-c9="" matTooltip="Download" src="assets/images/icons/download.png" style="width: 50%;"
                  align="center">
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" (dblclick)="recursiveCall(row)"></tr>
          </table>
          <!-- end tbale impletaion-->
        </div>
      </div>
    </div>

    <!-- end icon  -->
    <div class="file-sub-details" *ngIf="!projectFlag">
      <!-- 
        <mat-card class="margin-btm-10">
          <div *ngIf="folderDetailsDataOption" zclass="flex-box">
            <img src="{{getIcon(folderDetailsDataOption.type,folderDetailsDataOption.fileExt)}}" width="35" height="35" />
            <label class="margin-5">{{folderDetailsDataOption.name}}</label>
          </div>
        </mat-card> -->

      <!-- <mat-card class="margin-btm-10">
         <div class="margin-5 label-value" align="justify-content-center" >{{folderDetailsDataOption.name}}</div> 
      </mat-card> -->
      <!-- file details -->
      <mat-card class="margin-btm-10" *ngIf="fileDetails">
        <div >
          <app-file-config-details [folderDetailsDataOption]="fileDetails">
          </app-file-config-details>
        </div>
      </mat-card>
      <!-- end files details -->
    </div>

  </div>

</div>